{"ast":null,"code":"import { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { GlobalVars } from '../common/globals';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../api.service\";\nimport * as i2 from \"../shared-var.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/table\";\nimport * as i6 from \"@angular/material/sort\";\nconst _c0 = [\"statSort\"];\nconst _c1 = [\"periodEnd\"];\n\nfunction StatusComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 30);\n    i0.ɵɵtext(1, \"ID\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r34 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r34.id);\n  }\n}\n\nfunction StatusComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 30);\n    i0.ɵɵtext(1, \"Company\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵlistener(\"click\", function StatusComponent_td_19_Template_td_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r37);\n      const row_r35 = restoredCtx.$implicit;\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.getMap(row_r35));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r35 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r35.company);\n  }\n}\n\nfunction StatusComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"Email\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r38 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r38.email);\n  }\n}\n\nfunction StatusComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"Info Page\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const row_r39 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", row_r39.status.filer_info ? \"cell-green\" : \"cell-red\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r39.status.filer_info);\n  }\n}\n\nfunction StatusComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"Subscribers\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_28_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r40 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r40.status.subscription_complete);\n  }\n}\n\nfunction StatusComponent_td_28_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n}\n\nfunction StatusComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34);\n    i0.ɵɵtemplate(1, StatusComponent_td_28_span_1_Template, 2, 1, \"span\", 35);\n    i0.ɵɵtemplate(2, StatusComponent_td_28_span_2_Template, 1, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r40 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", row_r40.status.subscription_required && row_r40.status.subscription_complete == \"complete\" ? \"cell-green\" : row_r40.status.subscription_required && (row_r40.status.subscription_complete == \"\" || row_r40.status.subscription_complete == null) ? \"cell-red\" : row_r40.status.subscription_required && row_r40.status.subscription_complete == \"errors\" ? \"cell-yellow\" : \"cell-white\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r40.status.subscription_required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r40.status.subscription_required);\n  }\n}\n\nfunction StatusComponent_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"Sites\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_31_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r44 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r44.status.sites_complete);\n  }\n}\n\nfunction StatusComponent_td_31_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n}\n\nfunction StatusComponent_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34);\n    i0.ɵɵtemplate(1, StatusComponent_td_31_span_1_Template, 2, 1, \"span\", 35);\n    i0.ɵɵtemplate(2, StatusComponent_td_31_span_2_Template, 1, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r44 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", row_r44.status.sitesrequired && row_r44.status.sites_complete ? \"cell-green\" : row_r44.status.sitesrequired && !row_r44.status.sites_complete ? \"cell-red\" : \"cell-white\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r44.status.sitesrequired);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r44.status.sitesrequired);\n  }\n}\n\nfunction StatusComponent_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"APs\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_34_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r48 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r48.status.aps_complete);\n  }\n}\n\nfunction StatusComponent_td_34_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n}\n\nfunction StatusComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34);\n    i0.ɵɵtemplate(1, StatusComponent_td_34_span_1_Template, 2, 1, \"span\", 35);\n    i0.ɵɵtemplate(2, StatusComponent_td_34_span_2_Template, 1, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r48 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", row_r48.status.sitesrequired && row_r48.status.sites_complete ? \"cell-green\" : row_r48.status.sitesrequired && !row_r48.status.sites_complete ? \"cell-red\" : \"cell-white\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r48.status.sitesrequired);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r48.status.sitesrequired);\n  }\n}\n\nfunction StatusComponent_th_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"Wired Polys\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_37_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r52 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r52.status.wired_complete);\n  }\n}\n\nfunction StatusComponent_td_37_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n}\n\nfunction StatusComponent_td_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34);\n    i0.ɵɵtemplate(1, StatusComponent_td_37_span_1_Template, 2, 1, \"span\", 35);\n    i0.ɵɵtemplate(2, StatusComponent_td_37_span_2_Template, 1, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r52 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", row_r52.status.wiredrequired && row_r52.status.wired_complete ? \"cell-green\" : row_r52.status.wiredrequired && !row_r52.status.wired_complete ? \"cell-red\" : \"cell-white\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r52.status.wiredrequired);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r52.status.wiredrequired);\n  }\n}\n\nfunction StatusComponent_th_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"Fabric\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_40_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r56 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r56.status.bdc_complete);\n  }\n}\n\nfunction StatusComponent_td_40_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n}\n\nfunction StatusComponent_td_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34);\n    i0.ɵɵtemplate(1, StatusComponent_td_40_span_1_Template, 2, 1, \"span\", 35);\n    i0.ɵɵtemplate(2, StatusComponent_td_40_span_2_Template, 1, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r56 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", row_r56.status.bdcrequired && row_r56.status.bdc_complete ? \"cell-green\" : row_r56.status.bdcrequired && !row_r56.status.bdc_complete ? \"cell-red\" : \"cell-white\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r56.status.bdcrequired);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r56.status.bdcrequired);\n  }\n}\n\nfunction StatusComponent_th_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"cnHeat\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_43_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r60 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r60.status.cnheat_complete);\n  }\n}\n\nfunction StatusComponent_td_43_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n}\n\nfunction StatusComponent_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34);\n    i0.ɵɵtemplate(1, StatusComponent_td_43_span_1_Template, 2, 1, \"span\", 35);\n    i0.ɵɵtemplate(2, StatusComponent_td_43_span_2_Template, 1, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r60 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", row_r60.status.cnheatrequired && row_r60.status.cnheat_complete ? \"cell-green\" : row_r60.status.cnheatrequired && !row_r60.status.cnheat_complete ? \"cell-red\" : \"cell-white\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r60.status.cnheatrequired);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r60.status.cnheatrequired);\n  }\n}\n\nfunction StatusComponent_th_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"State\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_46_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r64 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r64.status.state_complete);\n  }\n}\n\nfunction StatusComponent_td_46_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n}\n\nfunction StatusComponent_td_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34);\n    i0.ɵɵtemplate(1, StatusComponent_td_46_span_1_Template, 2, 1, \"span\", 35);\n    i0.ɵɵtemplate(2, StatusComponent_td_46_span_2_Template, 1, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r64 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", row_r64.status.staterequired && row_r64.status.state_complete ? \"cell-green\" : row_r64.status.staterequired && !row_r64.status.state_complete ? \"cell-red\" : \"cell-white\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r64.status.staterequired);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r64.status.staterequired);\n  }\n}\n\nfunction StatusComponent_th_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"BDC\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const row_r68 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", row_r68.status.bdc_processed ? \"cell-green\" : !row_r68.status.bdc_processed && row_r68.status.bdc_status > 0 ? \"cell-yellow\" : !row_r68.status.bdc_processed && !row_r68.status.bdc_status ? \"cell-red\" : \"cell-white\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r68.status.bdc_status);\n  }\n}\n\nfunction StatusComponent_th_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 30);\n    i0.ɵɵtext(1, \"PE Review\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_52_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r69 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r69.status.pe_reviewed);\n  }\n}\n\nfunction StatusComponent_td_52_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n}\n\nfunction StatusComponent_td_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34);\n    i0.ɵɵtemplate(1, StatusComponent_td_52_span_1_Template, 2, 1, \"span\", 35);\n    i0.ɵɵtemplate(2, StatusComponent_td_52_span_2_Template, 1, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r69 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", row_r69.status.pe_reviewed ? \"cell-green\" : !row_r69.status.pe_reviewed ? \"cell-red\" : \"cell-white\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r69.status.pe_reviewed);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r69.status.pe_reviewed);\n  }\n}\n\nfunction StatusComponent_th_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"Check Dups\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_55_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r75 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function StatusComponent_td_55_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r75);\n      const row_r73 = restoredCtx.$implicit;\n      const ctx_r74 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r74.checkDuplicates(row_r73));\n    });\n    i0.ɵɵtext(2, \"Check\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction StatusComponent_th_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"Prep Filing\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StatusComponent_td_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r78 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function StatusComponent_td_58_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r78);\n      const row_r76 = restoredCtx.$implicit;\n      const ctx_r77 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r77.prepareFiling(row_r76));\n    });\n    i0.ɵɵtext(2, \"Go\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction StatusComponent_tr_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 37);\n  }\n}\n\nfunction StatusComponent_tr_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 38);\n  }\n}\n\nexport let StatusComponent = /*#__PURE__*/(() => {\n  class StatusComponent {\n    constructor(apiService, service, router) {\n      this.apiService = apiService;\n      this.service = service;\n      this.router = router;\n      this.displayedColumns = ['id', 'company', 'email', 'info', 'subscription', 'sites', 'aps', 'wired', 'fabric', 'cnheat', 'state', 'bdc', 'pe', 'dups', 'prep']; //exampleDatabase: ExampleHttpDatabase | null;\n      //data: GithubIssue[] = [];\n\n      this.companyData = new MatTableDataSource([]);\n      this.period_end = 'Dec 31, 2022';\n      this.resultsLength = 0;\n      this.isLoadingResults = true;\n      this.isRateLimitReached = false;\n      this.statSort = new MatSort();\n      this.service.setValue(this.period_end);\n    }\n\n    ngOnInit() {\n      this.companyData.sort = this.statSort;\n      this.service.setValue(this.period_end);\n      this.perEnd.nativeElement.value = this.period_end;\n      this.service.getValue().subscribe(value => {\n        this.period_end = value;\n        console.log(this.period_end);\n        this.getAdmindata();\n      });\n      this.getAdmindata(); // If the user changes the sort order, reset back to the first page.\n      //this.sort.sortChange.subscribe(() => (this.paginator.pageIndex = 0));\n\n      /*  merge(this.sort.sortChange, this.paginator.page)\r\n         .pipe(\r\n           startWith({}),\r\n           switchMap(() => {\r\n             this.isLoadingResults = true;\r\n             return this.exampleDatabase!.getRepoIssues(\r\n               this.sort.active,\r\n               this.sort.direction,\r\n               this.paginator.pageIndex,\r\n             ).pipe(catchError(() => observableOf(null)));\r\n           }),\r\n           map(data => {\r\n             // Flip flag to show that loading has finished.\r\n             this.isLoadingResults = false;\r\n             this.isRateLimitReached = data === null;\r\n                    if (data === null) {\r\n               return [];\r\n             }\r\n                    // Only refresh the result length if there is new data. In case of rate\r\n             // limit errors, we do not want to reset the paginator to zero, as that\r\n             // would prevent users from re-triggering requests.\r\n             this.resultsLength = data.total_count;\r\n             return data.items;\r\n           }),\r\n         )\r\n         .subscribe(data => (this.data = data)); */\n    }\n\n    getAdmindata() {\n      this.apiService.getAdminreport(this.period_end).subscribe(response => {\n        if (response.result == 'success') {\n          console.log('got status');\n          this.companyData = new MatTableDataSource(response.orgs);\n          this.companyData.sort = this.statSort;\n          console.log(JSON.stringify(response.orgs));\n        } else {\n          console.log(JSON.stringify(response.error));\n        }\n      });\n    }\n\n    changePeriod(e) {\n      //console.log(JSON.stringify(e));\n      //GlobalVars.period_end = e;\n      this.period_end = e;\n      this.service.setValue(e);\n      this.getAdmindata();\n    }\n\n    getMap(row) {\n      const org_id = row.id;\n      GlobalVars.org_id = row.id;\n      GlobalVars.company = row.company;\n      const url = 'map';\n      console.log(\"routing to \" + url);\n      this.router.navigate([url]).then(e => {\n        if (e) {\n          console.log(\"nav success\");\n        } else {\n          console.log(\"nav fail\");\n        }\n      });\n    }\n\n    prepareFiling(row) {\n      const org_id = row.id;\n      const periodformatted = this.formatDate(this.period_end);\n      console.log(periodformatted);\n      this.apiService.prepareBdcfiling(org_id, periodformatted).subscribe(response => {\n        if (response.result == 'success') {\n          alert('Success. Files are in the directory');\n        } else {\n          console.log(JSON.stringify(response.error));\n        }\n      });\n    }\n\n    checkDuplicates(row) {\n      const org_id = row.id;\n      const periodformatted = this.formatDate(this.period_end);\n      console.log(periodformatted);\n      this.apiService.checkDuplicates(org_id, periodformatted).subscribe(response => {\n        if (response.result == 'success') {\n          console.log(response.output);\n        } else {\n          console.log(JSON.stringify(response.error));\n        }\n      });\n    }\n\n    formatDate(date) {\n      let d = new Date(date);\n      let month = (d.getMonth() + 1).toString();\n      let day = d.getDate().toString();\n      let year = d.getFullYear();\n\n      if (month.length < 2) {\n        month = '0' + month;\n      }\n\n      if (day.length < 2) {\n        day = '0' + day;\n      }\n\n      return [year, month, day].join('-');\n    }\n\n  }\n\n  StatusComponent.ɵfac = function StatusComponent_Factory(t) {\n    return new (t || StatusComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.SharedVarService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  StatusComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StatusComponent,\n    selectors: [[\"app-status\"]],\n    viewQuery: function StatusComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.statSort = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.perEnd = _t.first);\n      }\n    },\n    decls: 62,\n    vars: 6,\n    consts: [[1, \"period-bar\", 2, \"width\", \"250px\"], [\"id\", \"perEnd\", \"name\", \"perEnd\", 1, \"form-control\", 3, \"change\"], [\"periodEnd\", \"\"], [3, \"value\"], [1, \"example-container\", \"mat-elevation-z8\"], [1, \"example-table-container\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"example-table\", 3, \"dataSource\"], [\"statSort\", \"matSort\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"company\"], [\"mat-cell\", \"\", 3, \"click\", 4, \"matCellDef\"], [\"matColumnDef\", \"email\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"info\"], [\"mat-cell\", \"\", 3, \"ngClass\", 4, \"matCellDef\"], [\"matColumnDef\", \"subscription\"], [\"matColumnDef\", \"sites\"], [\"matColumnDef\", \"aps\"], [\"matColumnDef\", \"wired\"], [\"matColumnDef\", \"fabric\"], [\"matColumnDef\", \"cnheat\"], [\"matColumnDef\", \"state\"], [\"matColumnDef\", \"bdc\"], [\"matColumnDef\", \"pe\"], [\"matColumnDef\", \"dups\"], [\"matColumnDef\", \"prep\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\", \"matHeaderRowDefSticky\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-cell\", \"\", 3, \"click\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\", 3, \"ngClass\"], [4, \"ngIf\"], [1, \"button\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function StatusComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r80 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"span\")(2, \"label\");\n        i0.ɵɵtext(3, \"Period End Date:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"select\", 1, 2);\n        i0.ɵɵlistener(\"change\", function StatusComponent_Template_select_change_4_listener() {\n          i0.ɵɵrestoreView(_r80);\n\n          const _r0 = i0.ɵɵreference(5);\n\n          return i0.ɵɵresetView(ctx.changePeriod(_r0.value));\n        });\n        i0.ɵɵelementStart(6, \"option\", 3);\n        i0.ɵɵtext(7, \"June 30, 2022\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"option\", 3);\n        i0.ɵɵtext(9, \"Dec 31, 2022\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(10, \"div\", 4)(11, \"div\", 5)(12, \"table\", 6, 7);\n        i0.ɵɵelementContainerStart(14, 8);\n        i0.ɵɵtemplate(15, StatusComponent_th_15_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(16, StatusComponent_td_16_Template, 2, 1, \"td\", 10);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(17, 11);\n        i0.ɵɵtemplate(18, StatusComponent_th_18_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(19, StatusComponent_td_19_Template, 2, 1, \"td\", 12);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(20, 13);\n        i0.ɵɵtemplate(21, StatusComponent_th_21_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(22, StatusComponent_td_22_Template, 2, 1, \"td\", 10);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(23, 15);\n        i0.ɵɵtemplate(24, StatusComponent_th_24_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(25, StatusComponent_td_25_Template, 3, 2, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(26, 17);\n        i0.ɵɵtemplate(27, StatusComponent_th_27_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(28, StatusComponent_td_28_Template, 3, 3, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(29, 18);\n        i0.ɵɵtemplate(30, StatusComponent_th_30_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(31, StatusComponent_td_31_Template, 3, 3, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(32, 19);\n        i0.ɵɵtemplate(33, StatusComponent_th_33_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(34, StatusComponent_td_34_Template, 3, 3, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(35, 20);\n        i0.ɵɵtemplate(36, StatusComponent_th_36_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(37, StatusComponent_td_37_Template, 3, 3, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(38, 21);\n        i0.ɵɵtemplate(39, StatusComponent_th_39_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(40, StatusComponent_td_40_Template, 3, 3, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(41, 22);\n        i0.ɵɵtemplate(42, StatusComponent_th_42_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(43, StatusComponent_td_43_Template, 3, 3, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(44, 23);\n        i0.ɵɵtemplate(45, StatusComponent_th_45_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(46, StatusComponent_td_46_Template, 3, 3, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(47, 24);\n        i0.ɵɵtemplate(48, StatusComponent_th_48_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(49, StatusComponent_td_49_Template, 3, 2, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(50, 25);\n        i0.ɵɵtemplate(51, StatusComponent_th_51_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(52, StatusComponent_td_52_Template, 3, 3, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(53, 26);\n        i0.ɵɵtemplate(54, StatusComponent_th_54_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(55, StatusComponent_td_55_Template, 3, 0, \"td\", 10);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(56, 27);\n        i0.ɵɵtemplate(57, StatusComponent_th_57_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(58, StatusComponent_td_58_Template, 3, 0, \"td\", 10);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(59, StatusComponent_tr_59_Template, 1, 0, \"tr\", 28);\n        i0.ɵɵtemplate(60, StatusComponent_tr_60_Template, 1, 0, \"tr\", 29);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(61, \"router-outlet\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"value\", \"June 30, 2022\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", \"Dec 31, 2022\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"dataSource\", ctx.companyData);\n        i0.ɵɵadvance(47);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns)(\"matHeaderRowDefSticky\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n      }\n    },\n    dependencies: [i4.NgClass, i4.NgIf, i3.RouterOutlet, i5.MatTable, i5.MatHeaderCellDef, i5.MatHeaderRowDef, i5.MatColumnDef, i5.MatCellDef, i5.MatRowDef, i5.MatHeaderCell, i5.MatCell, i5.MatHeaderRow, i5.MatRow, i6.MatSort, i6.MatSortHeader],\n    styles: [\".example-container[_ngcontent-%COMP%] {\\n  position: relative;\\n}\\n\\n.example-table-container[_ngcontent-%COMP%] {\\n  height: 800px;\\n  max-width: 100%;\\n  overflow: auto;\\n  min-height: 400px;\\n  overflow: auto;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.example-loading-shade[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  bottom: 56px;\\n  right: 0;\\n  background: rgba(0, 0, 0, 0.15);\\n  z-index: 1;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.example-rate-limit-reached[_ngcontent-%COMP%] {\\n  max-width: 360px;\\n  text-align: center;\\n}\\n\\n\\n\\n.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%] {\\n  max-width: 64px;\\n}\\n\\n.mat-column-created[_ngcontent-%COMP%] {\\n  max-width: 124px;\\n}\\n\\n.cell-red[_ngcontent-%COMP%] {\\n  background-color: red;\\n  color: white;\\n}\\n\\n.cell-green[_ngcontent-%COMP%] {\\n  background-color: green;\\n}\\n\\n.cell-yellow[_ngcontent-%COMP%] {\\n  background-color: yellow;\\n}\\n\\n.cell-white[_ngcontent-%COMP%] {\\n  background-color: white;\\n}\"]\n  });\n  return StatusComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}