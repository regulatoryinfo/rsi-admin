{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { GlobalVars } from '../common/globals';\n\nclass User {\n  constructor() {\n    this.org = null;\n    this.id = null;\n    this.email = null;\n    this.mobile = null;\n    this.password = null;\n    this.name = null;\n    this.role = null;\n    this.changePass = false;\n  }\n\n}\n\nlet CustomerComponent = class CustomerComponent {\n  constructor(apiService, service, router) {\n    this.apiService = apiService;\n    this.service = service;\n    this.router = router;\n    this.org_id = GlobalVars.org_id;\n    this.org = [];\n  }\n\n  ngOnInit() {\n    this.getCompanyData();\n  }\n\n  getCompanyData() {\n    const self = this;\n    const org_id = self.org_id;\n    this.apiService.getOrgdata(org_id).subscribe(resp => {\n      if (resp.result == 'success') {\n        console.log(resp.data);\n        this.org = resp.data;\n\n        if (!this.org.addr2 || this.org.addr2 == 'undefined') {\n          this.org.addr2 = '';\n        }\n\n        self.getUsers();\n        self.getInvoices();\n      } else {\n        console.log('error getting company data ' + resp.error);\n      }\n    });\n  }\n\n  getUsers() {\n    const self = this;\n    this.apiService.getUsers(self.org_id).subscribe(response => {\n      if (response.result == 'success') {\n        console.log(JSON.stringify(response.users));\n        self.users = response.users;\n      } else {\n        console.log('error getting users ' + JSON.stringify(response.error));\n        alert('Error getting users ');\n      }\n    });\n  }\n\n  getInvoices() {\n    const self = this;\n    this.apiService.getInvoices(self.org_id).subscribe(response => {\n      if (response.result == 'success') {\n        self.invoices = response.invoices;\n      } else {\n        console.log('error getting invoices ' + response.error);\n      }\n    });\n  }\n\n};\nCustomerComponent = __decorate([Component({\n  selector: 'app-customer',\n  templateUrl: './customer.component.html',\n  styleUrls: ['./customer.component.scss']\n})], CustomerComponent);\nexport { CustomerComponent };","map":null,"metadata":{},"sourceType":"module"}